<section id="pricing" class="pricing">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">{{ 'pricing.title' | translate }}</h2>
      <p class="section-subtitle">{{ 'pricing.subtitle' | translate }}</p>
    </div>

    <!-- Billing Toggle -->
    <div class="billing-toggle">
      <span class="billing-label" [class.active]="billingCycle === 'monthly'">
        {{ 'pricing.monthly' | translate }}
      </span>
      <button class="toggle-switch" (click)="toggleBillingCycle()" [attr.aria-label]="'Toggle billing cycle'">
        <span class="toggle-slider" [class.yearly]="billingCycle === 'yearly'"></span>
      </button>
      <span class="billing-label" [class.active]="billingCycle === 'yearly'">
        {{ 'pricing.yearly' | translate }}
        <span class="save-badge" *ngIf="pricingPlans.length > 0">
          {{ 'pricing.save' | translate }} {{ getSavings(pricingPlans[0]) }}%
        </span>
      </span>
    </div>

    <!-- Pricing Cards -->
    <div class="pricing-grid">
      <div *ngFor="let plan of pricingPlans" class="pricing-card" [class.popular]="plan.is_popular">
        <div class="popular-badge" *ngIf="plan.is_popular">
          {{ 'pricing.popular' | translate }}
        </div>

        <div class="plan-header">
          <h3 class="plan-name">{{ plan.name }}</h3>
          <p class="plan-description">{{ plan.description }}</p>
        </div>

        <div class="plan-price">
          <span class="currency">$</span>
          <span class="amount">{{ getPrice(plan) }}</span>
          <span class="period">{{ billingCycle === 'monthly' ? ('pricing.perMonth' | translate) : ('pricing.perYear' | translate) }}</span>
        </div>

        <ul class="plan-features">
          <li *ngFor="let feature of plan.features" class="feature-item">
            <svg class="check-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <circle cx="10" cy="10" r="9" fill="#e0f2fe"/>
              <path d="M14 7L8.5 12.5L6 10" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>{{ feature }}</span>
          </li>
        </ul>

        <button class="plan-btn" [class.primary]="plan.is_popular" (click)="scrollToContact()">
          {{ 'pricing.selectPlan' | translate }}
          <svg class="btn-arrow" width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Contact CTA -->
    <div class="pricing-footer">
      <p class="footer-text">Need a custom plan?</p>
      <button class="contact-btn" (click)="scrollToContact()">
        {{ 'pricing.contactUs' | translate }}
      </button>
    </div>
  </div>
</section>
