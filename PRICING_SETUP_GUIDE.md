# ๐ ุฏููู ุฅุนุฏุงุฏ ูุธุงู ุฎุทุท ุงูุฃุณุนุงุฑ - AS Hub

**ุขุฎุฑ ุชุญุฏูุซ:** 8 ุฏูุณูุจุฑ 2025

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅุนุฏุงุฏ ูุธุงู ุฎุทุท ุงูุฃุณุนุงุฑ ุงููุงูู ูู AS Hub.

ุงููุธุงู ูุฏุนู:
- โ **3 ุฃููุงุน ุฎุฏูุงุช:** Websiteุ Mobile Appุ Package (Both)
- โ **3 ูุณุชููุงุช:** Basicุ Professionalุ Enterprise
- โ **ูุบุชูู:** English & Arabic
- โ **ุฅุฏุงุฑุฉ ูุงููุฉ** ูู ููุญุฉ ุงูุชุญูู

---

## ๐ฏ ุงูุญุงูุฉ ุงูุญุงููุฉ

### โ ูุง ูู ุฌุงูุฒ:
- โ Frontend (Admin Panel) - **100%**
- โ Backend API - **100%**
- โ Model - **100%**
- โ Routes - **100%**

### โ๏ธ ูุง ูุญุชุงุฌ ุชุญุฏูุซ:
- โ๏ธ Database Schema - **ูุญุชุงุฌ ุฅุถุงูุฉ ุญูููู**

---

## ๐ง ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### ุงูุฎูุงุฑ 1: ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ (ุชุซุจูุช ุฌุฏูุฏ)

ุฅุฐุง ูู ุชูู ุจุชูููุฐ ุงูู Schema ุจุนุฏ:

#### 1. ุงุณุชุฎุฏู ุงูู Schema ุงููุญุฏุซ
```bash
# ุงุณุชุฎุฏู ุงูููู ุงููุญุฏุซ ุจุฏูุงู ูู ุงููุฏูู
mysql -u username -p database_name < database/schema_updated.sql
```

ุฃู ูู phpMyAdmin:
1. ุงูุชุญ phpMyAdmin
2. ุงุฎุชุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช `u643694170_Abood`
3. ุงุฐูุจ ุฅูู ุชุจููุจ "SQL"
4. ุงูุณุฎ ูุญุชูู ููู `database/schema_updated.sql`
5. ุงุถุบุท "Go"

#### 2. ุชุญูู ูู ุงููุฌุงุญ
```sql
DESCRIBE pricing_plans;
```

ูุฌุจ ุฃู ุชุฑู:
```
+---------------+--------------------------------------------------+
| Field         | Type                                             |
+---------------+--------------------------------------------------+
| id            | bigint unsigned                                  |
| language      | enum('en','ar')                                  |
| service_type  | enum('website','app','both')                     |
| tier          | enum('basic','professional','enterprise')        |
| name          | varchar(255)                                     |
| slug          | varchar(255)                                     |
| description   | text                                             |
| price_monthly | decimal(10,2)                                    |
| price_yearly  | decimal(10,2)                                    |
| features      | json                                             |
| is_popular    | tinyint(1)                                       |
| order         | int                                              |
| is_active     | tinyint(1)                                       |
| created_at    | timestamp                                        |
| updated_at    | timestamp                                        |
+---------------+--------------------------------------------------+
```

---

### ุงูุฎูุงุฑ 2: ูุงุนุฏุฉ ุจูุงูุงุช ููุฌูุฏุฉ (ุชุญุฏูุซ)

ุฅุฐุง ูุงูุช ุงููุงุนุฏุฉ ููุฌูุฏุฉ ุจุงููุนู:

#### 1. ููุฐ ุงูู Migration
```bash
# ูู ุณุทุฑ ุงูุฃูุงูุฑ
mysql -u username -p database_name < database/migrations/add_service_type_tier_to_pricing_plans.sql
```

ุฃู ูู phpMyAdmin:
1. ุงูุชุญ phpMyAdmin
2. ุงุฎุชุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช `u643694170_Abood`
3. ุงุฐูุจ ุฅูู ุชุจููุจ "SQL"
4. ุงูุณุฎ ูุญุชูู ููู `database/migrations/add_service_type_tier_to_pricing_plans.sql`
5. ุงุถุบุท "Go"

#### 2. ุชุญูู ูู ุงููุฌุงุญ
```sql
-- ุชุญูู ูู ุงูุฃุนูุฏุฉ
DESCRIBE pricing_plans;

-- ุชุญูู ูู ุงูู Indexes
SHOW INDEX FROM pricing_plans;
```

ูุฌุจ ุฃู ุชุฑู:
- โ ุนููุฏ `service_type`
- โ ุนููุฏ `tier`
- โ Index ุนูู `service_type`
- โ Index ุนูู `tier`
- โ Unique constraint ุนูู (`language`, `service_type`, `tier`)

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ุงุฎุชุจุงุฑ Backend API

#### ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู:
```bash
curl -X POST http://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@ashub.com",
    "password": "Admin@123"
  }'
```

ุงุญูุธ ุงูู `access_token` ูู ุงูุฑุฏ.

#### ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ุฎุทุฉ:
```bash
curl -X POST http://your-domain.com/api/admin/pricing \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -d '{
    "language": "en",
    "service_type": "website",
    "tier": "basic",
    "name": "Test Basic Website Plan",
    "description": "This is a test plan",
    "price_monthly": 299,
    "price_yearly": 2990,
    "features": [
      "Responsive Design",
      "5 Pages",
      "Contact Form",
      "Basic SEO"
    ],
    "is_popular": false,
    "is_active": true,
    "order": 1
  }'
```

#### ุงุฎุชุจุงุฑ ุนุฑุถ ุงูุฎุทุท:
```bash
curl -X GET http://your-domain.com/api/admin/pricing \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

#### ุงุฎุชุจุงุฑ ุงูููุชุฑุฉ:
```bash
# ููุชุฑุฉ ุญุณุจ ููุน ุงูุฎุฏูุฉ
curl -X GET "http://your-domain.com/api/admin/pricing?service_type=website" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"

# ููุชุฑุฉ ุญุณุจ ุงููุณุชูู
curl -X GET "http://your-domain.com/api/admin/pricing?tier=professional" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"

# ููุชุฑุฉ ุญุณุจ ุงููุบุฉ
curl -X GET "http://your-domain.com/api/admin/pricing?language=en" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"

# ููุชุฑุฉ ูุชุนุฏุฏุฉ
curl -X GET "http://your-domain.com/api/admin/pricing?language=en&service_type=website&tier=basic" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

---

### 2. ุงุฎุชุจุงุฑ Admin Panel

#### 1. ุชุณุฌูู ุงูุฏุฎูู:
```
URL: http://your-domain.com/admin
Email: admin@ashub.com
Password: Admin@123
```

#### 2. ุงุฐูุจ ุฅูู ุตูุญุฉ Pricing Plans:
```
http://your-domain.com/admin/pricing
```

#### 3. ุงุฎุชุจุฑ ุงููููุฒุงุช:

##### โ ุงูุฅุญุตุงุฆูุงุช:
- ุชุญูู ูู ุนุฑุถ ุนุฏุฏ ุงูุฎุทุท ููู ููุน ุฎุฏูุฉ
- ุชุญูู ูู ุนุฏุฏ ุงูุฎุทุท ุงููุดุทุฉ
- ุชุญูู ูู ุนุฏุฏ ุงูุฎุทุท ุงูุดุงุฆุนุฉ

##### โ ุงูููุชุฑุฉ:
- ุฌุฑุจ ุงูููุชุฑุฉ ุญุณุจ ุงููุบุฉ (English/Arabic)
- ุฌุฑุจ ุงูููุชุฑุฉ ุญุณุจ ููุน ุงูุฎุฏูุฉ (Website/App/Package)
- ุฌุฑุจ ุงูููุชุฑุฉ ุญุณุจ ุงููุณุชูู (Basic/Professional/Enterprise)
- ุฌุฑุจ ุงูุจุญุซ ุงููุตู

##### โ ุฅุถุงูุฉ ุฎุทุฉ ุฌุฏูุฏุฉ:
1. ุงุถุบุท "Add New Plan"
2. ุงููุฃ ุงููููุฐุฌ:
   - ุงุฎุชุฑ ุงููุบุฉ
   - ุงุฎุชุฑ ููุน ุงูุฎุฏูุฉ
   - ุงุฎุชุฑ ุงููุณุชูู
   - ุฃุฏุฎู ุงูุงุณู ูุงููุตู
   - ุฃุฏุฎู ุงูุฃุณุนุงุฑ (ุดูุฑู ูุณููู)
   - ุฃุถู ุงููููุฒุงุช
   - ุญุฏุฏ ุงูุฎูุงุฑุงุช (Popularุ Activeุ Order)
3. ุงุถุบุท "Create Plan"
4. ุชุญูู ูู ุธููุฑ ุงูุฎุทุฉ ูู ุงููุงุฆูุฉ

##### โ ุชุนุฏูู ุฎุทุฉ:
1. ุงุถุบุท "Edit" ุนูู ุฃู ุฎุทุฉ
2. ุนุฏู ุงูุจูุงูุงุช
3. ุงุถุบุท "Update Plan"
4. ุชุญูู ูู ุงูุชุญุฏูุซ

##### โ ูุณุฎ ุฎุทุฉ:
1. ุงุถุบุท "Copy" ุนูู ุฃู ุฎุทุฉ
2. ุนุฏู ุงูุงุณู
3. ุงุถุบุท "Create Plan"
4. ุชุญูู ูู ุฅูุดุงุก ูุณุฎุฉ ุฌุฏูุฏุฉ

##### โ ุชูุนูู/ุชุนุทูู:
1. ุงุถุบุท ุนูู ุฒุฑ Toggle
2. ุชุญูู ูู ุชุบููุฑ ุงูุญุงูุฉ

##### โ ุญุฐู ุฎุทุฉ:
1. ุงุถุบุท "Delete"
2. ุฃูุฏ ุงูุญุฐู
3. ุชุญูู ูู ุงุฎุชูุงุก ุงูุฎุทุฉ

##### โ ุนูููุงุช ุฌูุงุนูุฉ:
- ุฌุฑุจ "Activate All"
- ุฌุฑุจ "Deactivate All"
- ุฌุฑุจ "Export" ูุชุตุฏูุฑ ุงูุจูุงูุงุช

---

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

ุงูู Schema ุงููุญุฏุซ ูุชุถูู ุจูุงูุงุช ุชุฌุฑูุจูุฉ:

### ุฎุทุท Website:
- โ Basic Website (EN)
- โ Professional Website (EN)
- โ Enterprise Website (EN)
- โ ูููุน ุฃุณุงุณู (AR)
- โ ูููุน ุงุญุชุฑุงูู (AR)
- โ ูููุน ูุคุณุณู (AR)

### ุฎุทุท Mobile App:
- โ Basic Mobile App (EN)
- โ Professional Mobile App (EN)
- โ Enterprise Mobile App (EN)

### ุฎุทุท Package:
- โ Basic Package (EN)
- โ Professional Package (EN)
- โ Enterprise Package (EN)

---

## ๐จ ุงููููุฒุงุช ุงููุชููุฑุฉ

### ูู Admin Panel:

#### 1. ุงูุฅุญุตุงุฆูุงุช:
- ุนุฏุฏ ุฎุทุท Website
- ุนุฏุฏ ุฎุทุท App
- ุนุฏุฏ ุฎุทุท Package
- ุฅุฌูุงูู ุงูุฎุทุท
- ุนุฏุฏ ุงูุฎุทุท ุงููุดุทุฉ ููู ููุน
- ุนุฏุฏ ุงูุฎุทุท ุงูุดุงุฆุนุฉ

#### 2. ุงูููุชุฑุฉ ูุงูุจุญุซ:
- ููุชุฑุฉ ุญุณุจ ุงููุบุฉ
- ููุชุฑุฉ ุญุณุจ ููุน ุงูุฎุฏูุฉ
- ููุชุฑุฉ ุญุณุจ ุงููุณุชูู
- ุจุญุซ ูุตู ูู ุงูุงุณู ูุงููุตู
- ูุณุญ ุงูููุงุชุฑ

#### 3. ุนุฑุถ ุงูุฎุทุท:
- ุนุฑุถ ุจุทุงูุงุช ููุธูุฉ
- Badges ููุญุงูุฉ ูุงูุดุนุจูุฉ
- ุนุฑุถ ููุน ุงูุฎุฏูุฉ ูุงููุณุชูู
- ุนุฑุถ ุงูุฃุณุนุงุฑ (ุดูุฑู ูุณููู)
- ุญุณุงุจ ุงูุชูููุฑ ุชููุงุฆูุงู
- ุนุฑุถ ุงููููุฒุงุช
- ูุนูููุงุช ุฅุถุงููุฉ (ุงููุบุฉุ ุงูุชุฑุชูุจ)

#### 4. ูููุฐุฌ ุงูุฅุถุงูุฉ/ุงูุชุนุฏูู:
- ูุนูููุงุช ุฃุณุงุณูุฉ
- ุงุฎุชูุงุฑ ููุน ุงูุฎุฏูุฉ ูุงููุณุชูู
- ุฅุฏุฎุงู ุงูุฃุณุนุงุฑ
- ุญุงุณุจุฉ ุงูุชูููุฑ ุงูุชููุงุฆูุฉ
- ุฅุฏุงุฑุฉ ุงููููุฒุงุช ุฏููุงููููุงู
- ุฎูุงุฑุงุช ุฅุถุงููุฉ

#### 5. ุงูุนูููุงุช:
- ุฅุถุงูุฉ ุฎุทุฉ ุฌุฏูุฏุฉ
- ุชุนุฏูู ุฎุทุฉ
- ูุณุฎ ุฎุทุฉ
- ุญุฐู ุฎุทุฉ
- ุชูุนูู/ุชุนุทูู ุฎุทุฉ
- ุชูุนูู/ุชุนุทูู ุฌููุน ุงูุฎุทุท
- ุชุตุฏูุฑ ุงูุจูุงูุงุช

---

## ๐ ุงูุฃูุงู

### Validation:
- โ ุฌููุน ุงูุญููู ุงููุทููุจุฉ ูุญุฏุฏุฉ
- โ ุงูุชุญูู ูู ููุน ุงูุจูุงูุงุช
- โ ุงูุชุญูู ูู ุงูููู ุงููุณููุญุฉ
- โ ููุน ุงูุชูุฑุงุฑ (ููุณ ุงููุบุฉ + ููุน ุงูุฎุฏูุฉ + ุงููุณุชูู)

### Authorization:
- โ ุฌููุน Routes ูุญููุฉ ุจู JWT
- โ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ูููุตูู

### Error Handling:
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุดูู ุงุญุชุฑุงูู
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ Status codes ุตุญูุญุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. Unique Constraint:
ุงููุธุงู ูููุน ุฅูุดุงุก ุฎุทุท ููุฑุฑุฉ ุจููุณ:
- ุงููุบุฉ (language)
- ููุน ุงูุฎุฏูุฉ (service_type)
- ุงููุณุชูู (tier)

ูุซุงู:
- โ ูููู: EN + Website + Basic
- โ ูููู: EN + Website + Professional
- โ ูููู: AR + Website + Basic
- โ ูุง ูููู: EN + Website + Basic (ูุฑุฉ ุฃุฎุฑู)

### 2. Auto Slug Generation:
- ูุชู ุฅูุดุงุก ุงูู slug ุชููุงุฆูุงู ูู ุงูุงุณู
- ูููู ุชุฎุตูุตู ูุฏููุงู
- ูุถูู ุงูุชูุฑุฏ

### 3. Features Array:
- ูุฌุจ ุฅุถุงูุฉ ููุฒุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู
- ูุชู ุชุฎุฒูููุง ูู JSON
- ูููู ุฅุถุงูุฉ/ุญุฐู ููุฒุงุช ุฏููุงููููุงู

### 4. Savings Calculation:
- ูุชู ุญุณุงุจ ุงูุชูููุฑ ุชููุงุฆูุงู
- ุงูุตูุบุฉ: (Monthly ร 12) - Yearly
- ูุชู ุนุฑุถ ุงููุจูุบ ูุงููุณุจุฉ ุงููุฆููุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "Column 'service_type' not found"
**ุงูุญู:** ููุฐ ุงูู Migration:
```sql
ALTER TABLE pricing_plans 
ADD COLUMN service_type ENUM('website', 'app', 'both') NOT NULL DEFAULT 'website' AFTER language;
```

### ุงููุดููุฉ: "Column 'tier' not found"
**ุงูุญู:** ููุฐ ุงูู Migration:
```sql
ALTER TABLE pricing_plans 
ADD COLUMN tier ENUM('basic', 'professional', 'enterprise') NOT NULL DEFAULT 'basic' AFTER service_type;
```

### ุงููุดููุฉ: "Duplicate entry"
**ุงูุญู:** ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฎุทุฉ ุจููุณ (language + service_type + tier)

### ุงููุดููุฉ: "Unauthorized"
**ุงูุญู:** ุชุฃูุฏ ูู:
1. ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ
2. ุฅุฑุณุงู ุงูู Token ูู ุงูู Header
3. ุงูู Token ุตุงูุญ ูุบูุฑ ููุชูู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน ูุฐุง ุงูุฏููู
2. ุชุญูู ูู ููู `PRICING_SYSTEM_AUDIT.md`
3. ุฑุงุฌุน ุงูู Console ููุฃุฎุทุงุก
4. ุชุญูู ูู ุงูู Network Tab ูู Developer Tools

---

## โ Checklist

ูุจู ุงูุจุฏุก ุจุงูุงุณุชุฎุฏุงูุ ุชุฃูุฏ ูู:

- [ ] ุชูููุฐ ุงูู Migration ุฃู ุงูู Schema ุงููุญุฏุซ
- [ ] ุงูุชุญูู ูู ูุฌูุฏ ุงูุญููู ุงูุฌุฏูุฏุฉ
- [ ] ุงุฎุชุจุงุฑ Backend API
- [ ] ุงุฎุชุจุงุฑ Admin Panel
- [ ] ุฅุถุงูุฉ ุฎุทุฉ ุชุฌุฑูุจูุฉ
- [ ] ุงุฎุชุจุงุฑ ุฌููุน ุงูุนูููุงุช
- [ ] ุงุฎุชุจุงุฑ ุงูููุชุฑุฉ ูุงูุจุญุซ
- [ ] ุงุฎุชุจุงุฑ ุงูุนูููุงุช ุงูุฌูุงุนูุฉ

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุจุนุฏ ุฅุชูุงู ุงูุฅุนุฏุงุฏุ ุณุชุญุตู ุนูู:

โ **ูุธุงู ูุงูู** ูุฅุฏุงุฑุฉ ุฎุทุท ุงูุฃุณุนุงุฑ  
โ **ูุงุฌูุฉ ุงุญุชุฑุงููุฉ** ุณููุฉ ุงูุงุณุชุฎุฏุงู  
โ **API ููู** ููุฑู  
โ **ููุชุฑุฉ ูุจุญุซ ูุชูุฏู**  
โ **ุนูููุงุช ุฌูุงุนูุฉ**  
โ **ุญุงุณุจุฉ ุชูููุฑ ุชููุงุฆูุฉ**  
โ **ุฏุนู ูุชุนุฏุฏ ุงููุบุงุช**  
โ **3 ุฃููุงุน ุฎุฏูุงุช ร 3 ูุณุชููุงุช = 9 ุฎุทุท ูุญุชููุฉ ููู ูุบุฉ**

---

**ุชู ุฅุนุฏุงุฏ ุงูุฏููู ุจูุงุณุทุฉ:** Blackbox AI  
**ุงูุชุงุฑูุฎ:** 8 ุฏูุณูุจุฑ 2025
